#概述

​	gql是基于元数据的动态查询语句，查询对像为实体（实体对应物理表或视图），gql即geelato query language。gql采用json格式，并通过key、value的特殊字符关键字，表示查询字段、查询条件等信息，并最终由gql解析器转换成对实体的sql语句。

​	先来一个简单示例，查询用户信息

``` javascript
{"sys_user":{                          // 请求一个名为sys_user的实体
      "@p":"0,1"                       // 有这个参数，则表示分页数据组,没有则表示查询单个
      "sex":"0",                       // 等值条件
	  "age|gt":"20",                   // “|”表示过滤，gt即表示大于
	  "name|sw":"张",                  // 模糊查询 ，sw即startWith
	  "id|in":[1,2,3],                 // in   查询
      "@fs":"id,name,age",              // agesum是虚拟列
	  "@order":"age|+,name|-"          // 排序
    }
}
```

​	经解析之后的sql语句如下：

``` sql
-- 服务端解析实体sys_user为对应的表或视图,本例中实体sys_user对应的表名也为sys_user
select id,name,age from sys_user where sex=0 and age>20 and name like '%张' and id in(1,2,3) order by age asc,name desc
```

​	gql关键字如下

- @ 用于key，指关键字，如@p，表示需要分页查询
- $ 用于value，指变量，查询的字段变量
- ~ 用于key，指子查询
- | 用于key，指过滤，如“age|gt”:"20"，即按gt进行过滤，gt表示大于